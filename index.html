<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Notas</title>

<style>
:root {
  --bg: #0f1220;
  --card: #171a2e;
  --text: #e9ecff;
  --muted: #9aa1ff;
  --accent: #6c7bff;
}

* {
  box-sizing: border-box;
  font-family: system-ui, sans-serif;
}

body {
  margin: 0;
  background: linear-gradient(120deg, #0f1220, #0b0e1a);
  color: var(--text);
}

.wrap {
  max-width: 96vw;
  margin: auto;
  padding: 16px;
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* ===== LAYOUT ===== */
main.wrap {
  display: grid;
  grid-template-columns: 1fr 1.4fr;
  gap: 24px;
}

/* ===== NOTAS (ESQUERDA) ===== */
#notes {
  display: grid;
  gap: 18px;
  max-height: 80vh;
  overflow-y: auto;
}

/* BASE */
.note {
  background: var(--card);
  border: 1px solid #232862;
  border-radius: 18px;
  transition: 0.2s;
}

/* NOTAS ANTIGAS (MAIORES) */
.note.old {
  padding: 22px;
}

.note.old h3 {
  font-size: 1.15rem;
}

.note.old p {
  font-size: 1rem;
}

/* NOTAS NOVAS (MENORES) */
.note.new {
  padding: 14px;
  opacity: 0.85;
}

.note.new h3 {
  font-size: 0.95rem;
}

.note.new p {
  font-size: 0.85rem;
}

.note p {
  white-space: pre-wrap;
  color: #d6dbff;
}

.note small {
  color: var(--muted);
}

.actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 8px;
}

button {
  background: var(--card);
  color: var(--text);
  border: 1px solid #232862;
  border-radius: 10px;
  padding: 6px 10px;
  cursor: pointer;
}

button.primary {
  background: linear-gradient(135deg, var(--accent), #8b95ff);
  border: none;
  color: #0b0e1a;
}

/* ===== EDITOR (DIREITA) ===== */
.toolbar {
  display: grid;
  grid-template-columns: 1fr auto auto;
  gap: 10px;
  margin-bottom: 10px;
}

input, textarea {
  width: 100%;
  background: var(--card);
  color: var(--text);
  border: 1px solid #232862;
  border-radius: 12px;
  padding: 10px;
}

textarea {
  min-height: 520px;
  font-size: 1.05rem;
  line-height: 1.6;
  resize: vertical;
}

/* MOBILE */
@media (max-width: 900px) {
  main.wrap {
    grid-template-columns: 1fr;
  }
}
</style>
</head>

<body>
<header class="wrap">
  <h2>üìù Minhas Notas</h2>
  <small>localStorage</small>
</header>

<main class="wrap">
  <!-- NOTAS -->
  <section id="notes"></section>

  <!-- EDITOR -->
  <section>
    <div class="toolbar">
      <input id="title" placeholder="T√≠tulo">
      <button class="primary" onclick="save()">Salvar</button>
      <button onclick="clearAll()">Limpar</button>
    </div>
    <textarea id="content" placeholder="Escreva sua nota..."></textarea>
  </section>
</main>

<script>
const KEY = "notas_v2";
let editingId = null;

function getNotes() {
  return JSON.parse(localStorage.getItem(KEY) || "[]");
}

function setNotes(n) {
  localStorage.setItem(KEY, JSON.stringify(n));
  render();
}

function save() {
  const title = titleEl.value.trim();
  const content = contentEl.value.trim();
  if (!title && !content) return;

  const notes = getNotes();

  if (editingId) {
    const n = notes.find(n => n.id === editingId);
    n.title = title || "Sem t√≠tulo";
    n.content = content;
    editingId = null;
  } else {
    notes.unshift({
      id: Date.now(),
      title: title || "Sem t√≠tulo",
      content
    });
  }

  setNotes(notes);
  titleEl.value = "";
  contentEl.value = "";
}

function edit(id) {
  const n = getNotes().find(n => n.id === id);
  titleEl.value = n.title;
  contentEl.value = n.content;
  editingId = id;
}

function del(id) {
  setNotes(getNotes().filter(n => n.id !== id));
}

function clearAll() {
  if (confirm("Apagar tudo?")) setNotes([]);
}

function render() {
  const notes = getNotes();

  notesEl.innerHTML = notes.map((n, i) => `
    <article class="note ${i < 3 ? 'new' : 'old'}">
      <h3>${n.title}</h3>
      <p>${n.content.replace(/</g,"&lt;")}</p>
      <div class="actions">
        <button onclick="edit(${n.id})">Editar</button>
        <button onclick="del(${n.id})">Excluir</button>
      </div>
    </article>
  `).join("");
}

const notesEl = document.getElementById("notes");
const titleEl = document.getElementById("title");
const contentEl = document.getElementById("content");

render();
</script>
</body>
</html>
